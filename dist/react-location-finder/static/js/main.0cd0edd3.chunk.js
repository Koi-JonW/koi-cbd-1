(window["webpackJsonplocation-finder-embed"]=window["webpackJsonplocation-finder-embed"]||[]).push([[0],{201:function(e,t,o){e.exports=o(411)},410:function(e,t,o){},411:function(e,t,o){"use strict";o.r(t);o(202),o(211);var n=o(0),r=o.n(n),a=o(193),i=o.n(a),c=o(65),l=o(51),s=o(130),d=o(23),u=o.n(d),p=o(43),m=o(7),f=o(9),b=o(1);function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function g(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(o,!0).forEach((function(t){Object(b.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var y=window.__lfeConfig||{},v=function(e){return y[e]||{}},w=g({heading:"Locate a Koi CBD Distributor Near You",subheading:"Search below by city, state, zip to find the nearest distributor."},v("CONTENT_DEFAULTS")),x=g({viewPosition:{latitude:37.7577,longitude:-122.4376},zoom:11,maxZoom:18,minZoom:2,scrollZoom:!1},v("MAP_DEFAULTS")),E=g({locationColumn:"map_location",portalId:"5273025",tableId:"2027644",limit:15,absoluteLimit:100,showPhone:!1},v("RESULT_DEFAULTS")),k={1:"name",3:"map_location",4:"hours",6:"country",7:"email",8:"phone",9:"address_1",10:"address_2",11:"address_3",12:"address_4",13:"type",14:"city",15:"state",16:"zipcode",17:"website"},C="#f4b13e",j="#c0d8be",_="#d44646",O="#444444",I="#f5f5f5",N="#ffffff",S="#eeeeee",z="#a5a5a5",P="540px",L="992px",R=Object(f.c)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"]),M=Object(f.a)(["animation:"," 0.45s linear infinite"],R),F=f.b.div.withConfig({displayName:"Loader__LoaderEl",componentId:"sc-1avig13-0"})(["body #lfe-root &{position:absolute;z-index:599;top:0;left:0;width:100%;display:flex;align-items:center;justify-content:center;height:",";background-color:",";opacity:",";visibility:",";transition:all 0.25s ease;}"],(function(e){return e.height||"100%"}),(function(e){return e.background||N}),(function(e){return e.showing?"1":"0"}),(function(e){return e.showing?"visible":"hidden"})),T=f.b.span.withConfig({displayName:"Loader__Indicator",componentId:"sc-1avig13-1"})(["body #lfe-root &{display:block;width:1.75rem;height:1.75rem;overflow:hidden;text-indent:-499px;border-radius:50%;border-top:3px solid rgba(244,177,62,0.25);border-right:3px solid rgba(244,177,62,0.25);border-bottom:3px solid rgba(244,177,62,0.25);border-left:3px solid ",";",";}"],C,M),A=function(e){var t=e.loading,o=e.error,n=e.height,a=e.background;return r.a.createElement(F,{showing:t&&!o,height:n,background:a},r.a.createElement(T,null,"Loading..."))};A.defaultProps={height:"100%",background:N};var J=A,B=f.b.aside.withConfig({displayName:"ViewToggle__TabParent",componentId:"sc-1iq85dv-0"})(["body #lfe-root &{position:fixed;z-index:10001;bottom:0;left:0;width:100%;display:flex;display:none;background:",";box-shadow:rgba(44,44,44,0.1) 0 -2px 7px;}body #lfe-root & > span{display:block;position:absolute;width:2px;height:100%;top:0;left:50%;margin-left:-1px;background:",";}body #lfe-root & button{border:none;outline:none;font-size:0.9rem;display:block;flex-basis:50%;padding:1.5rem 0.5rem;text-align:center;font-weight:bold;text-transform:uppercase;cursor:pointer;}"],N,S),W=function(e){var t=e.onMapClick,o=e.onListClick;return r.a.createElement(B,null,r.a.createElement("span",null),r.a.createElement("button",{type:"button",onClick:o},r.a.createElement("span",null,"List View")),r.a.createElement("button",{type:"button",onClick:t},r.a.createElement("span",null,"Map View")))};W.defaultProps={onMapClick:function(){},onListClick:function(){}};var D=W,Y=f.b.div.withConfig({displayName:"TextInput__InputWrapper",componentId:"sc-60vhw7-0"})(["body #lfe-root &{position:relative;margin-bottom:0.5rem;}@media (min-width:","){body #lfe-root &{flex-grow:2;margin-right:1rem;margin-bottom:0}}body #lfe-root & label{display:block;position:absolute;pointer-events:none;font-size:1.1rem;top:0.9rem;left:1.2rem;background:",";transform-origin:left top;color:",";transform:",";}"],P,N,z,(function(e){return e.hasValue?"translateY(-1.5rem) scale(0.7)":"none"})),V=f.b.input.withConfig({displayName:"TextInput__Input",componentId:"sc-60vhw7-1"})(["body #lfe-root &{outline:none;appearance:none;display:block;width:100%;font-size:1.1rem;padding:1rem;border-radius:6px;border:2px solid ",";transition:border-color 0.2s ease;}body #lfe-root &:hover{border-color:",";}body #lfe-root &:focus{border-color:",";box-shadow:"," 0 0 7px;}"],S,z,C,S),Z=function(e){var t=Object(n.useState)(!1),o=Object(m.a)(t,2),a=o[0],i=o[1];return r.a.createElement(Y,{focus:a,hasValue:e.value.length>0},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement(V,{id:e.id,type:e.type,value:e.value,onChange:e.onChange,onFocus:function(){i(!0),e.onFocus&&e.onFocus()},onBlur:function(){i(!1),e.onBlur&&e.onBlur()}}))};Z.defaultProps={type:"text",label:"",id:""};var q=Z,U=f.b.button.withConfig({displayName:"Button__ButtonEl",componentId:"sc-97qn02-0"})(["body #lfe-root &{border:none;appearance:none;cursor:pointer;display:inline-block;padding:1rem 2rem;line-height:1;font-size:0.9rem;text-transform:uppercase;font-weight:bold;border-radius:6px;background:",";color:",";}body #lfe-root &[disabled]{background:",";color:",";cursor:wait;}"],C,I,I,z),G=function(e){return r.a.createElement(U,e,e.children)},H=f.b.div.withConfig({displayName:"SearchForm__FormWrapper",componentId:"qaba2v-0"})(["body #lfe-root &{position:relative;}body #lfe-root & > p{position:absolute;top:100%;left:0;width:100%;line-height:1;padding:0.5rem 0 0;font-size:0.85rem;color:",";}"],_),X=f.b.form.withConfig({displayName:"SearchForm__Form",componentId:"qaba2v-1"})(["body #lfe-root &{position:relative;display:flex;flex-direction:column;}@media (min-width:","){body #lfe-root &{flex-direction:row}}"],P),K=f.b.div.withConfig({displayName:"SearchForm__InputWrapper",componentId:"qaba2v-2"})(["body #lfe-root &{position:relative;}@media (min-width:","){body #lfe-root &{flex-grow:2}}body #lfe-root & > button{position:absolute;top:50%;right:1.5rem;transform:translateY(-50%);padding:0.6rem;border:none;background:none;color:",";cursor:pointer;outline:none;}body #lfe-root & > button .icon-compass{font-size:1.5rem;}body #lfe-root & > button:hover{color:",";}body #lfe-root & > button:hover > span{visibility:visible;opacity:1;transform:translateX(0);}body #lfe-root & > button > span{display:block;position:absolute;left:-6rem;top:0;width:7.5rem;padding:10px;border-radius:4px;background:",";color:",";margin-left:-1.5rem;margin-top:0.25rem;visibility:hidden;opacity:0;font-size:0.8rem;transform:translateX(10px);transition:all 0.2s ease;}"],P,z,C,O,I),Q=function(e){var t=e.loading,o=e.searchTerm,a=e.setSearchTerm,i=e.showGeolocate,c=e.onGeolocate,l=e.onSubmit,s=Object(n.useState)(!1),d=Object(m.a)(s,2),u=d[0],p=d[1],f=Object(n.useRef)(null),b=Object(n.useCallback)((function(e){e.preventDefault(),0!==o.length?f.current&&f.current===o?p("Enter a new search term"):(l(),f.current=o):p("Enter a location to search")}),[o]),h=Object(n.useCallback)((function(e){t||((o.length&&u||f.current&&f.current!==o&&u)&&p(!1),a(e.target.value))}),[o,u,t]);return r.a.createElement(H,null,r.a.createElement(X,{onSubmit:b},r.a.createElement(K,null,r.a.createElement(q,{label:"Search For a Store",onChange:h,value:o}),i&&r.a.createElement("button",{type:"button",onClick:c},r.a.createElement("div",{className:"icon-compass"}),r.a.createElement("span",null,"Use My Location"))),r.a.createElement(G,{type:"submit",disabled:t},"Search Now")),u&&r.a.createElement("p",null,u))},$=f.b.address.withConfig({displayName:"ResultItem__AddressHtml",componentId:"sc-1rw841m-0"})(["body #lfe-root &{font-style:normal;line-height:1.2;color:",";font-size:0.9rem;margin:0 0 0.5rem;}body #lfe-root & .lfe-street-addr span{display:inline-block;}body #lfe-root & .lfe-street-addr span:first-of-type{margin-right:5px;}"],z),ee=function(e){var t=e.result;return r.a.createElement($,null,r.a.createElement("div",{className:"lfe-street-addr"},r.a.createElement("span",null,t.address_1),t.address_2.length>0&&r.a.createElement("span",null,t.address_2)),t.address_3&&r.a.createElement("small",null,t.address_3),r.a.createElement("div",{className:"lfe-city-state"},r.a.createElement("span",null,t.city,", ",t.state," ",t.zipcode)))},te=f.b.div.withConfig({displayName:"ResultItem__ArrowElement",componentId:"sc-1rw841m-1"})(["body #lfe-root &{display:block;position:absolute;width:1rem;height:1rem;top:0;right:0;color:",";transition:all 0.3s ease;}body #lfe-root & svg{display:block;position:absolute;top:0;left:0;width:100%;height:100%;}"],(function(e){return e.active?C:O})),oe=function(e){var t=e.active;return r.a.createElement(te,{active:t},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.a.createElement("polyline",{points:"12 5 19 12 12 19"})))},ne=f.b.div.withConfig({displayName:"ResultItem__Phone",componentId:"sc-1rw841m-2"})(["body #lfe-root &{font-weight:bold;color:",";}"],C),re=f.b.ul.withConfig({displayName:"SearchResults__ResultsList",componentId:"p7dwpd-0"})(["body #lfe-root &{list-style:none;margin:0;padding:0;}body #lfe-root & li{position:relative;display:block;border-top:2px solid ",";}body #lfe-root & li:last-child{border-bottom:2px solid ",";}body #lfe-root & li a{display:block;position:absolute;overflow:hidden;text-indent:-499px;z-index:9;top:0;left:0;width:100%;height:100%;}"],S,S),ae=f.b.div.withConfig({displayName:"SearchResults__ResultsItem",componentId:"p7dwpd-1"})(["body #lfe-root &{padding:2rem 1.5rem 1.5rem;padding-left:2.5rem;transform:",";transition:transform 0.35s ",",opacity 0.3s linear;}body #lfe-root & h3{font-size:1.1rem;margin:0 0 0.75rem;}body #lfe-root & h3 > span{display:inline-block;position:relative;padding-right:1.5rem;}body #lfe-root & + span{opacity:",";transform:",";}"],(function(e){return e.active?"translateX(1rem)":"translateX(0)"}),"cubic-bezier(0.075, 0.82, 0.165, 1)",(function(e){return e.active,"1"}),(function(e){return e.active,"translateX(0)"})),ie=f.b.span.withConfig({displayName:"SearchResults__Number",componentId:"p7dwpd-2"})(["body #lfe-root &{display:block;position:absolute;z-index:1;top:1.5rem;left:0.5rem;padding-top:0.35rem;font-size:0.9rem;color:",";}"],j),ce=Object(l.e)((function(e){var t=e.searchResults,o=e.activeIndex,a=e.setActiveIndex,i=e.match;Object(n.useEffect)((function(){if(i.params.index){var e=parseInt(i.params.index);e!==o&&a(e)}}),[i]);var l=Object(n.useCallback)((function(e){return"/search/".concat(i.params.latitude,"/").concat(i.params.longitude,"/").concat(e)}),[i.params]);return r.a.createElement(re,null,t.map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(ie,null,function(e){var t=e+1;return t>9?t:"0".concat(t)}(t)),r.a.createElement(c.b,{to:l(t)},"View Store on Map"),r.a.createElement(ae,{active:o===t},r.a.createElement("h3",null,r.a.createElement("span",null,e.name," ",r.a.createElement(oe,{active:o===t}))),r.a.createElement(ee,{result:e}),E.showPhone&&r.a.createElement(ne,null,e.phone)))})))})),le=f.b.div.withConfig({displayName:"LoadMore__WrapperEl",componentId:"sc-1fmv5vc-0"})(["body #lfe-root &{position:relative;overflow:hidden;height:6rem;display:flex;align-items:center;justify-content:center;}body #lfe-root & button{display:inline-block;border:none;outline:none;appearance:none;padding:1rem 2rem;text-align:center;background:none;font-size:1rem;cursor:pointer;font-weight:bold;transition:color 0.3s ease,background 0.3s ease;}body #lfe-root & button:hover{background:",";color:",";}body #lfe-root & button:active{transform:translateY(1px);}"],I,C),se=f.b.div.withConfig({displayName:"LoadMore__LoadedAll",componentId:"sc-1fmv5vc-1"})(["body #lfe-root &{padding:2rem 1rem;text-align:center;font-weight:bold;font-size:0.9rem;color:",";}"],z),de=function(e){var t=e.loading,o=e.onClick;return r.a.createElement(le,null,r.a.createElement(J,{loading:t,error:!1}),r.a.createElement("button",{type:"button",onClick:o},r.a.createElement("span",null,"Load More")))};de.defaultProps={loading:!1};var ue=de,pe=o(82),me=f.b.div.withConfig({displayName:"PopupHtml__Popup",componentId:"sc-1kc1348-0"})(["body #lfe-root &{padding:1.5rem;width:300px;}body #lfe-root & h3{margin:0 0 1rem;}"]),fe=f.b.div.withConfig({displayName:"PopupHtml__ActionRow",componentId:"sc-1kc1348-1"})(["body #lfe-root &{display:flex;justify-content:space-between;margin-top:1.5rem;}"]),be=f.b.button.withConfig({displayName:"PopupHtml__Button",componentId:"sc-1kc1348-2"})(["body #lfe-root &{width:48%;text-align:center;border-radius:4px;font-size:0.7rem;text-transform:uppercase;padding:1rem 0.5em;cursor:pointer;font-weight:bold;background:transparent;border:1px solid ",";color:",";}body #lfe-root &:hover{background:",";}"],z,z,S),he=function(e){var t=e.result;return r.a.createElement(me,{onClick:function(e){return e.stopPropagation()}},r.a.createElement("h3",null,t.name),r.a.createElement(ee,{result:t}),r.a.createElement(fe,null,r.a.createElement(be,{onClick:function(){!function(e){var t={name:encodeURIComponent(e.name.split(" ").join("+").trim()),city:encodeURIComponent(e.city.split(" ").join("+").trim()),state:encodeURIComponent(e.state.trim()),zipcode:encodeURIComponent(e.zipcode.trim())};t.name.includes("%7C")&&(t.name=t.name.split("%7C").join(""));var o="https://www.google.com/maps/search/?api=1&query=".concat(t.name,"+").concat(t.city,"+").concat(t.state,"+").concat(t.zipcode);window.open(o,"_blank")}(t)}},"Get Directions")))},ge=f.b.div.withConfig({displayName:"MapBox__ControlWrapper",componentId:"sc-1jtbemj-0"})(["body #lfe-root &{position:absolute;top:5px;right:",";left:",";}"],(function(e){return e.geo?"auto":"5px"}),(function(e){return e.geo?"5px":"auto"})),ye=f.b.div.withConfig({displayName:"MapBox__MarkerHtml",componentId:"sc-1jtbemj-1"})(["body #lfe-root &{width:24px;height:24px;cursor:pointer;}body #lfe-root & > div{position:absolute;top:0;left:0;width:100%;height:100%;background:",";border-radius:50%;box-shadow:rgba(22,22,22,0.15) 0 0 0 8px;transition:opacity 0.2s ease;}body #lfe-root & > span{position:relative;z-index:99;display:block;line-height:2;color:",";font-weight:bold;font-size:0.75rem;text-align:center;}"],C,I),ve=function(e){var t=e.viewPosition,o=e.onViewPositionChange,a=e.zoom,i=e.onZoomChange,c=e.searchResults,l=e.activeIndex,s=e.onActiveIndexChange,d=Object(n.useRef)(null),u=Object(n.useRef)(0),p=Object(n.useRef)(null);return r.a.createElement(pe.d,{width:"100%",height:"100%",zoom:a,maxZoom:x.maxZoom,minZoom:x.minZoom,scrollZoom:x.scrollZoom,latitude:t.latitude,longitude:t.longitude,onViewportChange:function(e){var t=e.latitude,n=e.longitude,r=e.zoom;o({latitude:t,longitude:n}),i(r)},getCursor:function(e){d.current=e.isDragging},transitionDuration:u.current,transitionInterpolator:p.current,mapboxApiAccessToken:"pk.eyJ1IjoiY2xubWNncnciLCJhIjoiY2swdmhqY3g5MHM5MTNjbWlicmFxa3JkOCJ9.AM1RC2XW6CGtJhBdVEC_ag"},r.a.createElement(ge,null,r.a.createElement(pe.b,{showCompass:!1})),c.length>0&&c.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"marker-".concat(t)},r.a.createElement(pe.a,{latitude:e.map_location.lat,longitude:e.map_location.long,offsetLeft:-12,offsetTop:5},r.a.createElement(ye,{active:l===t,onClick:function(){return s(t)}},r.a.createElement("div",null),r.a.createElement("span",null,t+1))),l===t&&r.a.createElement(pe.c,{latitude:e.map_location.lat,longitude:e.map_location.long,closeOnClick:!1,captureClick:!0,onClose:function(){return s(!1)}},r.a.createElement(he,{result:e})))})))};ve.defaultProps={markers:[],activeIndex:!1};var we=ve,xe=f.b.section.withConfig({displayName:"Layout__ListingSection",componentId:"sc-1fs3kl3-0"})(["body #lfe-root &{position:relative;min-height:100vh;padding-bottom:4rem;}@media (min-width:","){body #lfe-root &{width:50%;z-index:99;box-shadow:rgba(44,44,44,0.1) 2px 0 7px}}"],L),Ee=f.b.div.withConfig({displayName:"Layout__ContentLiner",componentId:"sc-1fs3kl3-1"})(["body #lfe-root &{position:relative;padding:5rem 1rem 2rem;min-height:",";}@media (min-width:","){body #lfe-root &{padding-left:2rem;padding-right:2rem}}"],(function(e){return e.results?"400px":"0"}),P),ke=f.b.section.withConfig({displayName:"Layout__MapSection",componentId:"sc-1fs3kl3-2"})(["body #lfe-root &{position:fixed;top:0;left:-100%;background:",";width:100%;height:100%;}@media (min-width:","){body #lfe-root &{left:auto;right:0;width:50%}}"],O,L),Ce=f.b.div.withConfig({displayName:"Layout__Headings",componentId:"sc-1fs3kl3-3"})(["body #lfe-root &{padding:0 0 3rem;}body #lfe-root & h2{font-weight:bold;font-size:2.8rem;margin:0 0 1.2rem;}body #lfe-root & p{font-size:1.1rem;}"]),je=function(){return r.a.createElement(Ce,null,r.a.createElement("h2",null,w.heading),r.a.createElement("p",null,w.subheading))},_e=E.portalId,Oe=E.tableId,Ie=E.locationColumn,Ne=E.limit,Se="https://api.hubapi.com/hubdb/api/v2/tables/".concat(Oe,"/rows?portalId=").concat(_e),ze="https://api.mapbox.com/geocoding/v5/mapbox.places",Pe=function(){var e=Object(p.a)(u.a.mark((function e(t){var o,n,r,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,fetch(t,o);case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:throw new Error(n.status);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){return Pe((t=e,"".concat(ze,"/").concat(t,".json?access_token=").concat("pk.eyJ1IjoiY2xubWNncnciLCJhIjoiY2swdmhqY3g5MHM5MTNjbWlicmFxa3JkOCJ9.AM1RC2XW6CGtJhBdVEC_ag","&types=place,locality,postcode")));var t},Re=function(e,t){return Pe(function(e,t){return"".concat(ze,"/").concat(t,",").concat(e,".json?access_token=").concat("pk.eyJ1IjoiY2xubWNncnciLCJhIjoiY2swdmhqY3g5MHM5MTNjbWlicmFxa3JkOCJ9.AM1RC2XW6CGtJhBdVEC_ag","&types=place,locality,postcode")}(e,t))},Me=function(){var e=Object(p.a)(u.a.mark((function e(t,o){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:0,e.abrupt("return",Pe("".concat(Se,"&limit=").concat(Ne,"&offset=").concat(n,"&orderBy=geo_distance(").concat(Ie,",").concat(t,",").concat(o,")")));case 2:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),Fe=function(e){return e.map((function(e){var t={id:e.id};return Object.keys(e.values).forEach((function(o){t[k[o]]=e.values[o]})),t}))},Te=function(e){var t=e.filter((function(e){return e.place_type.includes("place")})),o=Object(m.a)(t,1)[0];return o?o.place_name.replace(", United States",""):""},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Number(Math.round(e+"e"+t)+"e-"+t)},Je=Object(l.e)((function(e){var t=e.history,o=e.match,a=(e.location,Object(n.useState)(!0)),i=Object(m.a)(a,2),c=i[0],l=i[1],d=Object(n.useState)(!1),f=Object(m.a)(d,2),b=f[0],h=f[1],g=Object(n.useState)(!0),y=Object(m.a)(g,2),v=y[0],w=y[1],k=Object(n.useState)(""),C=Object(m.a)(k,2),j=C[0],_=C[1],O=Object(n.useState)([]),I=Object(m.a)(O,2),N=I[0],z=I[1],P=Object(n.useState)(x.viewPosition),L=Object(m.a)(P,2),R=L[0],M=L[1],F=Object(n.useState)(!1),T=Object(m.a)(F,2),A=T[0],B=T[1],W=Object(n.useState)(x.zoom),Y=Object(m.a)(W,2),V=Y[0],Z=Y[1],q=Object(n.useState)(!1),U=Object(m.a)(q,2),G=U[0],H=U[1],X=Object(n.useRef)(1),K=Object(n.useRef)(null),$=function(){var e=Object(p.a)(u.a.mark((function e(t,o){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(t,o).then((function(e){var t=Fe(e.objects);z(t),K.current=Math.ceil(e.total/E.limit)})).catch((function(e){H("Problem getting results.")})).finally((function(){return l(!1)})));case 1:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(u.a.mark((function e(t,o){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Re(t,o).then((function(e){var t=Te(e.features);_(t)})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(o.params.latitude&&o.params.longitude){var e=parseFloat(o.params.latitude),n=parseFloat(o.params.longitude);return M({latitude:e,longitude:n}),void Object(p.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e,n);case 2:return t.next=4,ee(e,n);case 4:case"end":return t.stop()}}),t)})))()}if(o.params.term&&o.params.term.length>1)return _(o.params.term),void te(o.params.term);navigator.geolocation.getCurrentPosition((function(e){var o=Ae(e.coords.latitude),n=Ae(e.coords.longitude);console.log("Got coords: ",{latitude:o,longitude:n}),M({latitude:o,longitude:n}),t.push("/search/".concat(o,"/").concat(n)),Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(o,n);case 2:return e.next=4,ee(o,n);case 4:case"end":return e.stop()}}),e)})))()}),(function(){l(!1),w(!1)}))}),[]),Object(n.useEffect)((function(){if(N.length&&!1!==A&&N[A]){var e=N[A].map_location,t=e.lat,o=e.long;M({latitude:t,longitude:o})}}),[A]);var te=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(!0),e||(z([]),B(!1)),Le(e||j).then((function(e){console.log("Forward geocode: ",e);var o=e.features[0];if(o){var n=o.geometry.coordinates[1],r=o.geometry.coordinates[0];M({latitude:n,longitude:r}),t.push("/search/".concat(n,"/").concat(r)),Me(n,r).then((function(e){var t=Fe(e.objects);z(t)})).catch((function(e){H("Problem getting results.")})).finally((function(){return l(!1)}))}else l(!1),H("Can't find location for ".concat(j))})).catch((function(e){l(!1),H("Can't find location for ".concat(j))}))}),[j,t]),oe=Object(n.useCallback)((function(e){l(!0),navigator.geolocation.getCurrentPosition((function(e){var o=Ae(e.coords.latitude),n=Ae(e.coords.longitude);M({latitude:o,longitude:n}),t.push("/search/".concat(o,"/").concat(n)),Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(o,n);case 2:return e.next=4,ee(o,n);case 4:case"end":return e.stop()}}),e)})))()}),(function(){l(!1)}))})),ne=Object(n.useCallback)((function(e){e.preventDefault(),h(!0);var t=R.latitude,o=R.longitude,n=X.current*E.limit;Me(t,o,n).then((function(e){var t=Fe(e.objects);X.current=X.current+1,z([].concat(Object(s.a)(N),Object(s.a)(t)))})).catch((function(e){console.log("Request error: ",e),H("Problem getting results.")})).finally((function(){return h(!1)}))}),[N]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,null,r.a.createElement(Ee,null,r.a.createElement(je,null),r.a.createElement(Q,{loading:c,setLoading:l,searchTerm:j,setSearchTerm:_,showGeolocate:v,onGeolocate:oe,onSubmit:te})),r.a.createElement(Ee,null,r.a.createElement(J,{loading:c,error:G,height:"320px"}),N.length>0&&r.a.createElement(ce,{searchResults:N,activeIndex:A,setActiveIndex:B}),X.current<K.current&&r.a.createElement(ue,{loading:b,onClick:ne}),X.current===K.current&&r.a.createElement(se,null,"Showing All Locations"))),r.a.createElement(ke,null,r.a.createElement(J,{loading:c,error:G,background:S}),r.a.createElement(we,{zoom:V,searchResults:N,onZoomChange:function(e){return Z(e)},viewPosition:R,onViewPositionChange:function(e){return M(e)},activeIndex:A,onActiveIndexChange:function(e){return B(e)}})),r.a.createElement(D,null))})),Be=function(){return r.a.createElement(l.a,{exact:!0,path:["/","/search/:term","/search/:latitude/:longitude","/search/:latitude/:longitude/:index"],component:Je})};o(410);i.a.render(r.a.createElement(c.a,null,r.a.createElement(Be,null)),document.getElementById("lfe-root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.0cd0edd3.chunk.js.map